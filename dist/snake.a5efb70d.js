parcelRequire=function(e,r,t,n){var i,o="function"==typeof parcelRequire&&parcelRequire,u="function"==typeof require&&require;function f(t,n){if(!r[t]){if(!e[t]){var i="function"==typeof parcelRequire&&parcelRequire;if(!n&&i)return i(t,!0);if(o)return o(t,!0);if(u&&"string"==typeof t)return u(t);var c=new Error("Cannot find module '"+t+"'");throw c.code="MODULE_NOT_FOUND",c}p.resolve=function(r){return e[t][1][r]||r},p.cache={};var l=r[t]=new f.Module(t);e[t][0].call(l.exports,p,l,l.exports,this)}return r[t].exports;function p(e){return f(p.resolve(e))}}f.isParcelRequire=!0,f.Module=function(e){this.id=e,this.bundle=f,this.exports={}},f.modules=e,f.cache=r,f.parent=o,f.register=function(r,t){e[r]=[function(e,r){r.exports=t},{}]};for(var c=0;c<t.length;c++)try{f(t[c])}catch(e){i||(i=e)}if(t.length){var l=f(t[t.length-1]);"object"==typeof exports&&"undefined"!=typeof module?module.exports=l:"function"==typeof define&&define.amd?define(function(){return l}):n&&(this[n]=l)}if(parcelRequire=f,i)throw i;return f}({"S95d":[function(require,module,exports) {
var e=e||{};window.SNAKE=e,e.addEventListener=window.addEventListener?function(e,t,n,a){e.addEventListener(t,n,a)}:window.attachEvent?function(e,t,n){e.attachEvent("on"+t,n)}:void 0,e.removeEventListener=window.removeEventListener?function(e,t,n,a){e.removeEventListener(t,n,a)}:window.detachEvent?function(e,t,n){e.detachEvent("on"+t,n)}:void 0,e.Snake=e.Snake||function(){var e=[],t=function(){this.elm=null,this.elmStyle=null,this.row=-1,this.col=-1,this.xPos=-1e3,this.yPos=-1e3,this.next=null,this.prev=null};return function(n){if(n&&n.playingBoard){void 0===localStorage.jsSnakeHighScore&&localStorage.setItem("jsSnakeHighScore",0);var a=this,o=n.playingBoard,d=(0,1),l=-1,i=!0,s=!0,r=-1,c=[0,1,0,-1],u=[-1,0,1,0],m=[],h=[],k=80,p=!1,g=!1,y=document.getElementById("selectMode");y&&y.addEventListener("change",function(e){var t=(e=e||{}).target?parseInt(e.target.value):75;isNaN(t)?t=75:t<25&&(t=75),k=t,setTimeout(function(){document.getElementById("game-area").focus()},10)}),a.snakeBody={},a.snakeBody.b0=new t,a.snakeBody.b0.row=n.startRow||1,a.snakeBody.b0.col=n.startCol||1,a.snakeBody.b0.xPos=a.snakeBody.b0.row*o.getBlockWidth(),a.snakeBody.b0.yPos=a.snakeBody.b0.col*o.getBlockHeight(),a.snakeBody.b0.elm=f(),a.snakeBody.b0.elmStyle=a.snakeBody.b0.elm.style,o.getBoardContainer().appendChild(a.snakeBody.b0.elm),a.snakeBody.b0.elm.style.left=a.snakeBody.b0.xPos+"px",a.snakeBody.b0.elm.style.top=a.snakeBody.b0.yPos+"px",a.snakeBody.b0.next=a.snakeBody.b0,a.snakeBody.b0.prev=a.snakeBody.b0,a.snakeLength=1,a.snakeHead=a.snakeBody.b0,a.snakeTail=a.snakeBody.b0,a.snakeHead.elm.className=a.snakeHead.elm.className.replace(/\bsnake-snakebody-dead\b/,""),a.snakeHead.elm.id="snake-snakehead-alive",a.snakeHead.elm.className+=" snake-snakebody-alive",a.setPaused=function(e){g=e},a.getPaused=function(){return g},a.handleArrowKeys=function(e){if(!(p||g&&!n.premoveOnPause)){a.snakeLength;var t=-1;switch(e){case 37:case 65:t=3;break;case 38:case 87:t=0;break;case 39:case 68:t=1;break;case 40:case 83:t=2}r!==d&&(l=t),(2!==Math.abs(t-d)&&(i||g)||s)&&(r=t,i=!1,s=!1)}},a.go=function(){var e=a.snakeHead,t=a.snakeTail,n=o.grid;if(!0!==g){if(a.snakeTail=t.prev,a.snakeHead=t,n[t.row]&&n[t.row][t.col]&&(n[t.row][t.col]=0),-1!==r&&(d=r,-1!==l&&(r=l,l=-1)),i=!0,t.col=e.col+c[d],t.row=e.row+u[d],t.xPos=e.xPos+m[d],t.yPos=e.yPos+h[d],t.elmStyle||(t.elmStyle=t.elm.style),t.elmStyle.left=t.xPos+"px",t.elmStyle.top=t.yPos+"px",a.snakeLength>1&&(t.elm.id="snake-snakehead-alive",e.elm.id=""),0===n[t.row][t.col])n[t.row][t.col]=1,setTimeout(function(){a.go()},k);else if(n[t.row][t.col]>0)a.handleDeath();else if(n[t.row][t.col]===o.getGridFoodValue()){if(n[t.row][t.col]=1,!a.eatFood())return void a.handleWin();setTimeout(function(){a.go()},k)}}else setTimeout(function(){a.go()},k)},a.eatFood=function(){e.length<=5&&v(10);for(var t,n=e.splice(0,5),d=n.length,l=a.snakeTail;d--;)t="b"+a.snakeLength++,a.snakeBody[t]=n[d],a.snakeBody[t].prev=l,a.snakeBody[t].elm.className=a.snakeHead.elm.className.replace(/\bsnake-snakebody-dead\b/,""),a.snakeBody[t].elm.className+=" snake-snakebody-alive",l.next=a.snakeBody[t],l=a.snakeBody[t];if(a.snakeTail=a.snakeBody[t],a.snakeTail.next=a.snakeHead,a.snakeHead.prev=a.snakeTail,!o.foodEaten())return!1;var i=document.getElementById("selectMode");return 0==i.options[i.selectedIndex].text.localeCompare("Rush")&&(k>30?k-=5:k=30),!0},a.handleDeath=function(){var e=document.getElementById("selectMode").value;k=parseInt(e),w(o.handleDeath)},a.handleWin=function(){w(o.handleWin)},a.rebirth=function(){p=!1,i=!0,s=!0,l=-1},a.reset=function(){if(!1!==p){for(var t,d=[],l=a.snakeHead.next;l!==a.snakeHead;)t=l.next,l.prev=null,l.next=null,d.push(l),l=t;a.snakeHead.next=a.snakeHead,a.snakeHead.prev=a.snakeHead,a.snakeTail=a.snakeHead,a.snakeLength=1;for(var i=0;i<d.length;i++)d[i].elm.style.left="-1000px",d[i].elm.style.top="-1000px",d[i].elm.className=a.snakeHead.elm.className.replace(/\bsnake-snakebody-dead\b/,""),d[i].elm.className+=" snake-snakebody-alive";e.concat(d),a.snakeHead.elm.className=a.snakeHead.elm.className.replace(/\bsnake-snakebody-dead\b/,""),a.snakeHead.elm.className+=" snake-snakebody-alive",a.snakeHead.elm.id="snake-snakehead-alive",a.snakeHead.row=n.startRow||1,a.snakeHead.col=n.startCol||1,a.snakeHead.xPos=a.snakeHead.row*o.getBlockWidth(),a.snakeHead.yPos=a.snakeHead.col*o.getBlockHeight(),a.snakeHead.elm.style.left=a.snakeHead.xPos+"px",a.snakeHead.elm.style.top=a.snakeHead.yPos+"px"}},v(10),m[0]=0,m[1]=o.getBlockWidth(),m[2]=0,m[3]=-1*o.getBlockWidth(),h[0]=-1*o.getBlockHeight(),h[1]=0,h[2]=o.getBlockHeight(),h[3]=0}function f(){var e=document.createElement("div");return e.className="snake-snakebody-block",e.style.left="-1000px",e.style.top="-1000px",e.style.width=o.getBlockWidth()+"px",e.style.height=o.getBlockHeight()+"px",e}function v(n){for(var a,d=f(),l=1;l<n;l++)(a=new t).elm=d.cloneNode(!0),a.elmStyle=a.elm.style,o.getBoardContainer().appendChild(a.elm),e[e.length]=a;(a=new t).elm=d,o.getBoardContainer().appendChild(a.elm),e[e.length]=a}function w(e){var t;t=localStorage.jsSnakeHighScore,a.snakeLength>t&&(alert("Congratulations! You have beaten your previous high score, which was "+t+"."),localStorage.setItem("jsSnakeHighScore",a.snakeLength)),a.snakeHead.elm.style.zIndex=function(e){var t,n=0,a=0;for(t in e)e[t].elm.currentStyle?a=parseFloat(e[t].elm.style["z-index"],10):window.getComputedStyle&&(a=parseFloat(document.defaultView.getComputedStyle(e[t].elm,null).getPropertyValue("z-index"),10)),!isNaN(a)&&a>n&&(n=a);return n+1}(a.snakeBody),a.snakeHead.elm.className=a.snakeHead.elm.className.replace(/\bsnake-snakebody-alive\b/,""),a.snakeHead.elm.className+=" snake-snakebody-dead",p=!0,e()}}}(),e.Food=e.Food||function(){var e=0;function t(e,t){return Math.floor(Math.random()*(t+1-e))+e}return function(n){if(n&&n.playingBoard){var a,o,d=n.playingBoard,l=e++,i=document.createElement("div");i.setAttribute("id","snake-food-"+l),i.className="snake-food-block",i.style.width=d.getBlockWidth()+"px",i.style.height=d.getBlockHeight()+"px",i.style.left="-1000px",i.style.top="-1000px",d.getBoardContainer().appendChild(i),this.getFoodElement=function(){return i},this.randomlyPlaceFood=function(){d.grid[a]&&d.grid[a][o]===d.getGridFoodValue()&&(d.grid[a][o]=0);for(var e=0,n=0,l=0,s=d.grid.length-1,r=d.grid[0].length-1;0!==d.grid[e][n];)if(e=t(1,s),n=t(1,r),++l>2e4)return!1;return d.grid[e][n]=d.getGridFoodValue(),a=e,o=n,i.style.top=e*d.getBlockHeight()+"px",i.style.left=n*d.getBlockWidth()+"px",!0}}}}(),e.Board=e.Board||function(){var t=0;function n(e){var t,n=0,a=0;for(t in e)e[t].elm.currentStyle?a=parseFloat(e[t].elm.style["z-index"],10):window.getComputedStyle&&(a=parseFloat(document.defaultView.getComputedStyle(e[t].elm,null).getPropertyValue("z-index"),10)),!isNaN(a)&&a>n&&(n=a);return n+1}return function(a){var o,d,l,i,s,r,c,u,m,h,k,p,g=this,y=t++,f=a||{},v=250,w=250,B=1,b=!1;function H(){(s=document.createElement("div")).setAttribute("id","playingField"),s.className="snake-playing-field",e.addEventListener(s,"click",function(){i.focus()},!1),(p=document.createElement("div")).className="snake-pause-screen",p.innerHTML="<div style='padding:10px;'>[Paused]<p/>Press [space] to unpause.</div>",(r=document.createElement("div")).className="snake-panel-component",(c=document.createElement("div")).className="snake-panel-component",c.innerHTML="Length: 1",(u=document.createElement("div")).className="snake-panel-component",u.innerHTML="Highscore: "+(localStorage.jsSnakeHighScore||0),m=function(){var t=document.createElement("div");t.id="sbWelcome"+y,t.className="snake-welcome-dialog";var n=document.createElement("div"),a="";f.fullScreen&&(a="On Windows, press F11 to play in Full Screen mode.");n.innerHTML="Zeroxbase javascript game test<p></p>Use the <strong>arrow keys</strong> on your keyboard to play the game. "+a+"<p></p>";var o=document.createElement("button");o.appendChild(document.createTextNode("Play Game"));var d=function(){e.removeEventListener(window,"keyup",l,!1),t.style.display="none",g.setBoardState(1),g.getBoardContainer().focus()},l=function(e){if(!e)var e=window.event;var t=e.which?e.which:e.keyCode;32!==t&&13!==t||d()};return e.addEventListener(window,"keyup",l,!1),e.addEventListener(o,"click",d,!1),t.appendChild(n),t.appendChild(o),t}(),h=x("You died :(","sbTryAgain","snake-try-again-dialog"),k=x("You win! :D","sbWin","snake-win-dialog"),e.addEventListener(i,"keyup",function(e){if(!e)e=window.event;return e.cancelBubble=!0,e.stopPropagation&&e.stopPropagation(),e.preventDefault&&e.preventDefault(),!1},!1),i.className="snake-game-container",p.style.zIndex=1e4,i.appendChild(p),i.appendChild(s),i.appendChild(r),i.appendChild(c),i.appendChild(u),i.appendChild(m),i.appendChild(h),i.appendChild(k),d=new e.Snake({playingBoard:g,startRow:2,startCol:2,premoveOnPause:f.premoveOnPause}),o=new e.Food({playingBoard:g}),m.style.zIndex=1e3}function x(t,n,a){var o=document.createElement("div");o.id=n+y,o.className=a;var d=document.createElement("div");d.innerHTML="ZeroxBase JavaScript Snake Test<p></p>"+t+"<p></p>";var l=document.createElement("button");l.appendChild(document.createTextNode("Play Again?"));var i=function(){o.style.display="none",g.resetBoard(),g.setBoardState(1),g.getBoardContainer().focus()};return e.addEventListener(window,"keyup",function(e){if(0===B&&"block"===o.style.display){e||(e=window.event);var t=e.which?e.which:e.keyCode;32!==t&&13!==t||i()}},!0),e.addEventListener(l,"click",i,!1),o.appendChild(d),o.appendChild(l),o}function S(e){var t=Math.max(n(d.snakeBody),n({tmp:{elm:o.getFoodElement()}}));i.removeChild(e),i.appendChild(e),e.style.zIndex=t,e.style.display="block",g.setBoardState(0)}g.grid=[],g.setPaused=function(e){b=e,d.setPaused(e),p.style.display=b?"block":"none"},g.getPaused=function(){return b},g.resetBoard=function(){e.removeEventListener(i,"keydown",l,!1),d.reset(),c.innerHTML="Length: 1",g.setupPlayingField()},g.getBoardState=function(){return B},g.setBoardState=function(e){B=e},g.getGridFoodValue=function(){return-1},g.getPlayingFieldElement=function(){return s},g.setBoardContainer=function(e){"string"==typeof e&&(e=document.getElementById(e)),e!==i&&(i=e,s=null,g.setupPlayingField())},g.getBoardContainer=function(){return i},g.getBlockWidth=function(){return 20},g.getBlockHeight=function(){return 20},g.setupPlayingField=function(){var t,n,a,m,h,k;s||H(),!0===f.fullScreen?(a=0,m=0,k=0,"number"==typeof window.innerWidth?k=window.innerWidth:document.documentElement&&(document.documentElement.clientWidth||document.documentElement.clientHeight)?k=document.documentElement.clientWidth:document.body&&(document.body.clientWidth||document.body.clientHeight)&&(k=document.body.clientWidth),t=k-20,h=0,"number"==typeof window.innerHeight?h=window.innerHeight:document.documentElement&&(document.documentElement.clientWidth||document.documentElement.clientHeight)?h=document.documentElement.clientHeight:document.body&&(document.body.clientWidth||document.body.clientHeight)&&(h=document.body.clientHeight),n=h-20):(a=f.top,m=f.left,t=f.width,n=f.height);var p=2*g.getBlockWidth()+t%g.getBlockWidth(),y=Math.min(v*g.getBlockWidth()-p,t-p),B=3*g.getBlockHeight()+n%g.getBlockHeight(),b=Math.min(w*g.getBlockHeight()-B,n-B);i.style.left=m+"px",i.style.top=a+"px",i.style.width=t+"px",i.style.height=n+"px",s.style.left=g.getBlockWidth()+"px",s.style.top=g.getBlockHeight()+"px",s.style.width=y+"px",s.style.height=b+"px";var x=B-g.getBlockHeight(),S=g.getBlockHeight()+b+Math.round((x-30)/2)+"px";r.style.top=S,r.style.width="450px",r.style.left=Math.round(t/2)-Math.round(225)+"px",c.style.top=S,c.style.left="30px",u.style.top=S,u.style.left=t-140+"px",r.style.display=t<700?"none":"block",g.grid=[];for(var E=y/g.getBlockWidth()+2,P=b/g.getBlockHeight()+2,C=0;C<P;C++){g.grid[C]=[];for(var L=0;L<E;L++)g.grid[C][L]=0===L||0===C||L===E-1||C===P-1?1:0}o.randomlyPlaceFood(),l=function(t){if(!t)t=window.event;var n=t.which?t.which:t.keyCode;if(1===g.getBoardState()){if(!(n>=37&&n<=40)&&87!==n&&65!==n&&83!==n&&68!==n)return;e.removeEventListener(i,"keydown",l,!1),l=function(e){if(!e)e=window.event;var t=e.which?e.which:e.keyCode;return 32===t&&0!=g.getBoardState()&&g.setPaused(!g.getPaused()),d.handleArrowKeys(t),e.cancelBubble=!0,e.stopPropagation&&e.stopPropagation(),e.preventDefault&&e.preventDefault(),!1},e.addEventListener(i,"keydown",l,!1),d.rebirth(),d.handleArrowKeys(n),g.setBoardState(2),d.go()}return t.cancelBubble=!0,t.stopPropagation&&t.stopPropagation(),t.preventDefault&&t.preventDefault(),!1},e.addEventListener(i,"keydown",l,!1)},g.foodEaten=function(){return c.innerHTML="Length: "+d.snakeLength,d.snakeLength>localStorage.jsSnakeHighScore&&(localStorage.setItem("jsSnakeHighScore",d.snakeLength),u.innerHTML="Highscore: "+localStorage.jsSnakeHighScore),!!o.randomlyPlaceFood()},g.handleDeath=function(){S(h)},g.handleWin=function(){S(k)},f.fullScreen=void 0!==f.fullScreen&&f.fullScreen,f.top=void 0===f.top?0:f.top,f.left=void 0===f.left?0:f.left,f.width=void 0===f.width?400:f.width,f.height=void 0===f.height?400:f.height,f.premoveOnPause=void 0!==f.premoveOnPause&&f.premoveOnPause,f.fullScreen&&e.addEventListener(window,"resize",function(){g.setupPlayingField()},!1),g.setBoardState(0),f.boardContainer&&g.setBoardContainer(f.boardContainer)}}();
},{}]},{},["S95d"], null)
//# sourceMappingURL=/snake.a5efb70d.js.map